{
  "layers": [
    {
      "id": "route_bus_case",
      "type": "line",
      "source": "routes",
      "source-layer": "routes",
      "filter": [
        "all",
        [
          "!=",
          [
            "get",
            "trunk_route"
          ],
          "1"
        ],
        [
          "==",
          [
            "get",
            "mode"
          ],
          "BUS"
        ]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#fff",
        "line-width": {
          "stops": [
            [
              10,
              4
            ],
            [
              22,
              8
            ]
          ]
        }
      }
    },
    {
      "id": "route_bus",
      "type": "line",
      "source": "routes",
      "source-layer": "routes",
      "filter": [
        "all",
        [
          "!=",
          [
            "get",
            "trunk_route"
          ],
          "1"
        ],
        [
          "==",
          [
            "get",
            "mode"
          ],
          "BUS"
        ]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "line-round-limit": 1
      },
      "paint": {
        "line-color": "#007ac9",
        "line-width": {
          "stops": [
            [
              10,
              2
            ],
            [
              22,
              6
            ]
          ]
        }
      }
    },
    {
      "id": "route_bus_inner",
      "type": "line",
      "source": "routes",
      "source-layer": "routes",
      "filter": [
        "all",
        [
          "!=",
          [
            "get",
            "trunk_route"
          ],
          "1"
        ],
        [
          "==",
          [
            "get",
            "mode"
          ],
          "BUS"
        ]
      ],
      "paint": {
        "line-color": "#3395d4",
        "line-width": {
          "stops": [
            [
              10,
              0.5
            ],
            [
              22,
              2
            ]
          ]
        }
      }
    },
    {
      "id": "route_tram_case",
      "type": "line",
      "source": "routes",
      "source-layer": "routes",
      "filter": [
        "==",
        [
          "get",
          "mode"
        ],
        "TRAM"
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#fff",
        "line-width": {
          "stops": [
            [
              10,
              4
            ],
            [
              22,
              8
            ]
          ]
        }
      }
    },
    {
      "id": "route_tram",
      "type": "line",
      "source": "routes",
      "source-layer": "routes",
      "filter": [
        "==",
        [
          "get",
          "mode"
        ],
        "TRAM"
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "line-round-limit": 1
      },
      "paint": {
        "line-color": "#00985F",
        "line-width": {
          "stops": [
            [
              10,
              2
            ],
            [
              22,
              6
            ]
          ]
        }
      }
    },
    {
      "id": "route_tram_inner",
      "type": "line",
      "source": "routes",
      "source-layer": "routes",
      "filter": [
        "==",
        [
          "get",
          "mode"
        ],
        "TRAM"
      ],
      "paint": {
        "line-color": "#00bb75",
        "line-width": {
          "stops": [
            [
              10,
              0.5
            ],
            [
              22,
              2
            ]
          ]
        }
      }
    },
    {
      "id": "route_trunk_case",
      "type": "line",
      "source": "routes",
      "source-layer": "routes",
      "filter": [
        "all",
        [
          "==",
          [
            "get",
            "trunk_route"
          ],
          "1"
        ],
        [
          "==",
          [
            "get",
            "mode"
          ],
          "BUS"
        ]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#fff",
        "line-width": {
          "stops": [
            [
              10,
              4
            ],
            [
              22,
              8
            ]
          ]
        }
      }
    },
    {
      "id": "route_trunk",
      "type": "line",
      "source": "routes",
      "source-layer": "routes",
      "filter": [
        "all",
        [
          "==",
          [
            "get",
            "trunk_route"
          ],
          "1"
        ],
        [
          "==",
          [
            "get",
            "mode"
          ],
          "BUS"
        ]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "line-round-limit": 1
      },
      "paint": {
        "line-color": "#CA4300",
        "line-width": {
          "stops": [
            [
              10,
              2
            ],
            [
              22,
              6
            ]
          ]
        }
      }
    },
    {
      "id": "route_trunk_inner",
      "type": "line",
      "source": "routes",
      "source-layer": "routes",
      "filter": [
        "all",
        [
          "==",
          [
            "get",
            "trunk_route"
          ],
          "1"
        ],
        [
          "==",
          [
            "get",
            "mode"
          ],
          "BUS"
        ]
      ],
      "paint": {
        "line-color": "#FF6319",
        "line-width": {
          "stops": [
            [
              10,
              1
            ],
            [
              22,
              4
            ]
          ]
        }
      }
    },
    {
      "id": "route_lrail_case",
      "type": "line",
      "source": "routes",
      "source-layer": "routes",
      "filter": [
        "==",
        [
          "get",
          "mode"
        ],
        "L_RAIL"
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#fff",
        "line-width": {
          "stops": [
            [
              10,
              4
            ],
            [
              22,
              8
            ]
          ]
        }
      }
    },
    {
      "id": "route_lrail",
      "type": "line",
      "source": "routes",
      "source-layer": "routes",
      "filter": [
        "==",
        [
          "get",
          "mode"
        ],
        "L_RAIL"
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round",
        "line-round-limit": 1
      },
      "paint": {
        "line-color": "#007E79",
        "line-width": {
          "stops": [
            [
              10,
              2
            ],
            [
              22,
              6
            ]
          ]
        }
      }
    },
    {
      "id": "route_lrail_inner",
      "type": "line",
      "source": "routes",
      "source-layer": "routes",
      "filter": [
        "==",
        [
          "get",
          "mode"
        ],
        "L_RAIL"
      ],
      "paint": {
        "line-color": "#329793",
        "line-width": {
          "stops": [
            [
              10,
              0.5
            ],
            [
              22,
              2
            ]
          ]
        }
      }
    },
    {
      "id": "route_ferry",
      "type": "line",
      "source": "routes",
      "source-layer": "routes",
      "filter": [
        "==",
        [
          "get",
          "mode"
        ],
        "FERRY"
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#00B9E4",
        "line-dasharray": [
          0,
          4
        ],
        "line-width": {
          "stops": [
            [
              10,
              4
            ],
            [
              22,
              8
            ]
          ]
        }
      }
    },
    {
      "id": "route_subway_case",
      "type": "line",
      "source": "subway",
      "filter": [
        "any",
        [
          "==",
          [
            "get",
            "underground"
          ],
          "false"
        ],
        [
          "all",
          [
            "==",
            [
              "get",
              "underground"
            ],
            "true"
          ],
          [
            "<",
            [
              "zoom"
            ],
            11
          ]
        ]
      ],
      "paint": {
        "line-color": "#FF6319",
        "line-width": [
          "interpolate",
          [
            "exponential",
            1.4
          ],
          [
            "zoom"
          ],
          11,
          3,
          16,
          12,
          19,
          24
        ]
      }
    },
    {
      "id": "route_subway",
      "type": "line",
      "source": "subway",
      "filter": [
        "any",
        [
          "==",
          [
            "get",
            "underground"
          ],
          "false"
        ],
        [
          "all",
          [
            "==",
            [
              "get",
              "underground"
            ],
            "true"
          ],
          [
            "<",
            [
              "zoom"
            ],
            11
          ]
        ]
      ],
      "paint": {
        "line-color": "#fff",
        "line-dasharray": [
          2.3,
          1.5
        ],
        "line-width": [
          "interpolate",
          [
            "exponential",
            1.4
          ],
          [
            "zoom"
          ],
          11,
          2,
          16,
          8,
          19,
          18
        ]
      }
    },
    {
      "id": "route_subway_underground",
      "type": "line",
      "source": "subway",
      "minzoom": 11,
      "filter": [
        "==",
        [
          "get",
          "underground"
        ],
        "true"
      ],
      "paint": {
        "line-color": "#FF6319",
        "line-dasharray": [
          2.3,
          1.5
        ],
        "line-width": [
          "interpolate",
          [
            "exponential",
            1.4
          ],
          [
            "zoom"
          ],
          11,
          1,
          16,
          8,
          19,
          20
        ]
      }
    },
    {
      "id": "route_rail_case",
      "type": "line",
      "source": "rail",
      "paint": {
        "line-color": "#8C4799",
        "line-width": [
          "interpolate",
          [
            "exponential",
            1.4
          ],
          [
            "zoom"
          ],
          11,
          3,
          16,
          12,
          19,
          24
        ]
      }
    },
    {
      "id": "route_rail",
      "type": "line",
      "source": "rail",
      "paint": {
        "line-color": "#fff",
        "line-dasharray": [
          2.3,
          1.5
        ],
        "line-width": [
          "interpolate",
          [
            "exponential",
            1.4
          ],
          [
            "zoom"
          ],
          11,
          2,
          16,
          8,
          19,
          18
        ]
      }
    }
  ],
  "sources": {
    "routes": {
      "url": "https://kartat.hsl.fi/jore/tiles/routes/index.json",
      "type": "vector"
    },
    "subway": {
      "data": "https://hslstoragekarttatuotanto.z6.web.core.windows.net/subway.geojson",
      "type": "geojson"
    },
    "rail": {
      "data": "https://hslstoragekarttatuotanto.z6.web.core.windows.net/rail.geojson",
      "type": "geojson"
    }
  }
}
